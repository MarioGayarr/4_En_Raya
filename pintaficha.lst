# file opened: C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm
  1   0000              FICHA:; coje hl para pintar cuadrado y ix para la bola
  2   0000 E5                   push hl
  3   0001 D5                   push de
  4   0002 C5                   push bc
  5   0003 DD E5                push ix
  6   0005 F5                   PUSH AF
  7   0006 CD 8E 02             CALL PintaCuadrao
  8   0009 DD E5 E1             ld hl, ix
  9   000C
 10   000C                      ;Detectar si estamos en la fila problemática (segunda fila)
 11   000C 7C                   LD A, H
 12   000D FE 40                CP $40
 13   000F 20 0C                JR NZ, FICHA_NORMAL
 14   0011 7D                   LD A, L
 15   0012 FE E1                CP $E1
 16   0014 38 07                JR C, FICHA_NORMAL    ; Si es menor que $E1, usar normal
 17   0016 FE FA                CP $FA
 18   0018 30 03                JR NC, FICHA_NORMAL   ; Si es mayor o igual que $FA, usar normal
 19   001A C3 46 01             JP FICHA_ENTERCIO     ; Si está entre $E1 y $F9, usar específica
 20   001D
 21   001D              FICHA_NORMAL:
 22   001D                      ;arriba izquierda
 23   001D 3E 00                LD A,%00000000
 24   001F 77                   LD(HL),A
 25   0020 3E 01                LD A,%00000001
 26   0022 11 00 01             LD DE, $100
 27   0025 19                   ADD HL,DE
 28   0026 77                   LD(HL),A
 29   0027 3E 03                LD A,%00000011
 30   0029 11 00 01             LD DE, $100
 31   002C 19                   ADD HL,DE
 32   002D 77                   LD(HL),A
 33   002E 3E 07                LD A,%00000111
 34   0030 11 00 01             LD DE, $100
 35   0033 19                   ADD HL,DE
 36   0034 77                   LD(HL),A
 37   0035 11 00 01             LD DE, $100
 38   0038 19                   ADD HL,DE
 39   0039 77                   LD(HL),A
 40   003A 3E 0F                LD A,%00001111
 41   003C 11 00 01             LD DE, $100
 42   003F 19                   ADD HL,DE
 43   0040 77                   LD(HL),A
 44   0041 11 00 01             LD DE, $100
 45   0044 19                   ADD HL,DE
 46   0045 77                   LD(HL),A
 47   0046 11 00 01             LD DE, $100
 48   0049 19                   ADD HL,DE
 49   004A 77                   LD(HL),A
 50   004B
 51   004B                      ;arriba centro
 52   004B DD 23                INC IX
 53   004D DD E5 E1             LD HL, IX
 54   0050
 55   0050 3E 7E                LD A,%01111110
 56   0052 77                   LD(HL),A
 57   0053 3E FF                LD A,%11111111
 58   0055 11 00 01             LD DE, $100
 59   0058 19                   ADD HL,DE
 60   0059 77                   LD(HL),A
 61   005A 3E FF                LD A,%11111111
 62   005C 11 00 01             LD DE, $100
 63   005F 19                   ADD HL,DE
 64   0060 77                   LD(HL),A
 65   0061 11 00 01             LD DE, $100
 66   0064 19                   ADD HL,DE
 67   0065 77                   LD(HL),A
 68   0066 11 00 01             LD DE, $100
 69   0069 19                   ADD HL,DE
 70   006A 77                   LD(HL),A
 71   006B 11 00 01             LD DE, $100
 72   006E 19                   ADD HL,DE
 73   006F 77                   LD(HL),A
 74   0070 11 00 01             LD DE, $100
 75   0073 19                   ADD HL,DE
 76   0074 77                   LD(HL),A
 77   0075 11 00 01             LD DE, $100
 78   0078 19                   ADD HL,DE
 79   0079 77                   LD(HL),A
 80   007A
 81   007A                      ;arriba derecha
 82   007A
 83   007A DD 23                INC IX
 84   007C DD E5 E1             LD HL, IX
 85   007F 3E 00                LD A,%00000000
 86   0081 77                   LD(HL),A
 87   0082 3E 80                LD A,%10000000
 88   0084 11 00 01             LD DE, $100
 89   0087 19                   ADD HL,DE
 90   0088 77                   LD(HL),A
 91   0089 3E C0                LD A,%11000000
 92   008B 11 00 01             LD DE, $100
 93   008E 19                   ADD HL,DE
 94   008F 77                   LD(HL),A
 95   0090 3E E0                LD A,%11100000
 96   0092 11 00 01             LD DE, $100
 97   0095 19                   ADD HL,DE
 98   0096 77                   LD(HL),A
 99   0097 11 00 01             LD DE, $100
100   009A 19                   ADD HL,DE
101   009B 77                   LD(HL),A
102   009C 3E F0                LD A,%11110000
103   009E 11 00 01             LD DE, $100
104   00A1 19                   ADD HL,DE
105   00A2 77                   LD(HL),A
106   00A3 11 00 01             LD DE, $100
107   00A6 19                   ADD HL,DE
108   00A7 77                   LD(HL),A
109   00A8 11 00 01             LD DE, $100
110   00AB 19                   ADD HL,DE
111   00AC 77                   LD(HL),A
112   00AD
113   00AD
114   00AD                      ;ld de,32
115   00AD                      ;add hl, de
116   00AD
117   00AD                      ;abajo derecha
118   00AD
119   00AD 01 20 00             ld bc,$20
120   00B0 DD 09                ADD IX, BC
121   00B2 DD E5 E1             LD HL,IX
122   00B5 3E F0                LD A,%11110000
123   00B7 77                   LD(HL),A
124   00B8 11 00 01             LD DE, $100
125   00BB 19                   ADD HL,DE
126   00BC 77                   LD(HL),A
127   00BD 11 00 01             LD DE, $100
128   00C0 19                   ADD HL,DE
129   00C1 77                   LD(HL),A
130   00C2 3E E0                LD A,%11100000
131   00C4 11 00 01             LD DE, $100
132   00C7 19                   ADD HL,DE
133   00C8 77                   LD(HL),A
134   00C9 11 00 01             LD DE, $100
135   00CC 19                   ADD HL,DE
136   00CD 77                   LD(HL),A
137   00CE 3E C0                LD A,%11000000
138   00D0 11 00 01             LD DE, $100
139   00D3 19                   ADD HL,DE
140   00D4 77                   LD(HL),A
141   00D5 3E 80                LD A,%10000000
142   00D7 11 00 01             LD DE, $100
143   00DA 19                   ADD HL,DE
144   00DB 77                   LD(HL),A
145   00DC 3E 00                LD A,%00000000
146   00DE 11 00 01             LD DE, $100
147   00E1 19                   ADD HL,DE
148   00E2 77                   LD(HL),A
149   00E3
150   00E3                      ;abajo centro
151   00E3
152   00E3 DD 2B                DEC IX
153   00E5 DD E5 E1             LD HL,IX
154   00E8 3E FF                LD A,%11111111
155   00EA 77                   LD(HL),A
156   00EB 11 00 01             LD DE, $100
157   00EE 19                   ADD HL,DE
158   00EF 77                   LD(HL),A
159   00F0 11 00 01             LD DE, $100
160   00F3 19                   ADD HL,DE
161   00F4 77                   LD(HL),A
162   00F5 11 00 01             LD DE, $100
163   00F8 19                   ADD HL,DE
164   00F9 77                   LD(HL),A
165   00FA 11 00 01             LD DE, $100
166   00FD 19                   ADD HL,DE
167   00FE 77                   LD(HL),A
168   00FF 11 00 01             LD DE, $100
169   0102 19                   ADD HL,DE
170   0103 77                   LD(HL),A
171   0104 11 00 01             LD DE, $100
172   0107 19                   ADD HL,DE
173   0108 77                   LD(HL),A
174   0109 11 00 01             LD DE, $100
175   010C 19                   ADD HL,DE
176   010D 3E 7E                LD A,%01111110
177   010F 77                   LD(HL),A
178   0110
179   0110                      ;abajo izquierda
180   0110 DD 2B                DEC IX
181   0112 DD E5 E1             LD HL,IX
182   0115 3E 0F                LD A,%00001111
183   0117 77                   LD(HL),A
184   0118 11 00 01             LD DE, $100
185   011B 19                   ADD HL,DE
186   011C 77                   LD(HL),A
187   011D 11 00 01             LD DE, $100
188   0120 19                   ADD HL,DE
189   0121 77                   LD(HL),A
190   0122 3E 07                LD A,%00000111
191   0124 11 00 01             LD DE, $100
192   0127 19                   ADD HL,DE
193   0128 77                   LD(HL),A
194   0129 11 00 01             LD DE, $100
195   012C 19                   ADD HL,DE
196   012D 77                   LD(HL),A
197   012E 3E 03                LD A,%00000011
198   0130 11 00 01             LD DE, $100
199   0133 19                   ADD HL,DE
200   0134 77                   LD(HL),A
201   0135 3E 01                LD A,%00000001
202   0137 11 00 01             LD DE, $100
203   013A 19                   ADD HL,DE
204   013B 77                   LD(HL),A
205   013C 3E 00                LD A,%00000000
206   013E 11 00 01             LD DE, $100
207   0141 19                   ADD HL,DE
208   0142 77                   LD(HL),A
209   0143 C3 6C 02             jp Fin_Ficha
210   0146
211   0146              FICHA_ENTERCIO:
212   0146                      ;arriba izquierda
213   0146 3E 00                LD A,%00000000
214   0148 77                   LD(HL),A
215   0149 3E 01                LD A,%00000001
216   014B 11 00 01             LD DE, $100
217   014E 19                   ADD HL,DE
218   014F 77                   LD(HL),A
219   0150 3E 03                LD A,%00000011
220   0152 11 00 01             LD DE, $100
221   0155 19                   ADD HL,DE
222   0156 77                   LD(HL),A
223   0157 3E 07                LD A,%00000111
224   0159 11 00 01             LD DE, $100
225   015C 19                   ADD HL,DE
226   015D 77                   LD(HL),A
227   015E 11 00 01             LD DE, $100
228   0161 19                   ADD HL,DE
229   0162 77                   LD(HL),A
230   0163 3E 0F                LD A,%00001111
231   0165 11 00 01             LD DE, $100
232   0168 19                   ADD HL,DE
233   0169 77                   LD(HL),A
234   016A 11 00 01             LD DE, $100
235   016D 19                   ADD HL,DE
236   016E 77                   LD(HL),A
237   016F 11 00 01             LD DE, $100
238   0172 19                   ADD HL,DE
239   0173 77                   LD(HL),A
240   0174
241   0174                      ;arriba centro
242   0174 DD 23                INC IX
243   0176 DD E5 E1             LD HL, IX
244   0179
245   0179 3E 7E                LD A,%01111110
246   017B 77                   LD(HL),A
247   017C 3E FF                LD A,%11111111
248   017E 11 00 01             LD DE, $100
249   0181 19                   ADD HL,DE
250   0182 77                   LD(HL),A
251   0183 3E FF                LD A,%11111111
252   0185 11 00 01             LD DE, $100
253   0188 19                   ADD HL,DE
254   0189 77                   LD(HL),A
255   018A 11 00 01             LD DE, $100
256   018D 19                   ADD HL,DE
257   018E 77                   LD(HL),A
258   018F 11 00 01             LD DE, $100
259   0192 19                   ADD HL,DE
260   0193 77                   LD(HL),A
261   0194 11 00 01             LD DE, $100
262   0197 19                   ADD HL,DE
263   0198 77                   LD(HL),A
264   0199 11 00 01             LD DE, $100
265   019C 19                   ADD HL,DE
266   019D 77                   LD(HL),A
267   019E 11 00 01             LD DE, $100
268   01A1 19                   ADD HL,DE
269   01A2 77                   LD(HL),A
270   01A3
271   01A3                      ;arriba derecha
272   01A3
273   01A3 DD 23                INC IX
274   01A5 DD E5 E1             LD HL, IX
275   01A8 3E 00                LD A,%00000000
276   01AA 77                   LD(HL),A
277   01AB 3E 80                LD A,%10000000
278   01AD 11 00 01             LD DE, $100
279   01B0 19                   ADD HL,DE
280   01B1 77                   LD(HL),A
281   01B2 3E C0                LD A,%11000000
282   01B4 11 00 01             LD DE, $100
283   01B7 19                   ADD HL,DE
284   01B8 77                   LD(HL),A
285   01B9 3E E0                LD A,%11100000
286   01BB 11 00 01             LD DE, $100
287   01BE 19                   ADD HL,DE
288   01BF 77                   LD(HL),A
289   01C0 11 00 01             LD DE, $100
290   01C3 19                   ADD HL,DE
291   01C4 77                   LD(HL),A
292   01C5 3E F0                LD A,%11110000
293   01C7 11 00 01             LD DE, $100
294   01CA 19                   ADD HL,DE
295   01CB 77                   LD(HL),A
296   01CC 11 00 01             LD DE, $100
297   01CF 19                   ADD HL,DE
298   01D0 77                   LD(HL),A
299   01D1 11 00 01             LD DE, $100
300   01D4 19                   ADD HL,DE
301   01D5 77                   LD(HL),A
302   01D6
303   01D6                      ;abajo derecha en tercio
304   01D6
305   01D6 01 20 07             ld bc,$720
306   01D9 DD 09                ADD IX, BC
307   01DB DD E5 E1             LD HL,IX
308   01DE 3E F0                LD A,%11110000
309   01E0 77                   LD(HL),A
310   01E1 11 00 01             LD DE, $100
311   01E4 19                   ADD HL,DE
312   01E5 77                   LD(HL),A
313   01E6 11 00 01             LD DE, $100
314   01E9 19                   ADD HL,DE
315   01EA 77                   LD(HL),A
316   01EB 3E E0                LD A,%11100000
317   01ED 11 00 01             LD DE, $100
318   01F0 19                   ADD HL,DE
319   01F1 77                   LD(HL),A
320   01F2 11 00 01             LD DE, $100
321   01F5 19                   ADD HL,DE
322   01F6 77                   LD(HL),A
323   01F7 3E C0                LD A,%11000000
324   01F9 11 00 01             LD DE, $100
325   01FC 19                   ADD HL,DE
326   01FD 77                   LD(HL),A
327   01FE 3E 80                LD A,%10000000
328   0200 11 00 01             LD DE, $100
329   0203 19                   ADD HL,DE
330   0204 77                   LD(HL),A
331   0205 3E 00                LD A,%00000000
332   0207 11 00 01             LD DE, $100
333   020A 19                   ADD HL,DE
334   020B 77                   LD(HL),A
335   020C
336   020C                      ;abajo centro
337   020C
338   020C DD 2B                DEC IX
339   020E DD E5 E1             LD HL,IX
340   0211 3E FF                LD A,%11111111
341   0213 77                   LD(HL),A
342   0214 11 00 01             LD DE, $100
343   0217 19                   ADD HL,DE
344   0218 77                   LD(HL),A
345   0219 11 00 01             LD DE, $100
346   021C 19                   ADD HL,DE
347   021D 77                   LD(HL),A
348   021E 11 00 01             LD DE, $100
349   0221 19                   ADD HL,DE
350   0222 77                   LD(HL),A
351   0223 11 00 01             LD DE, $100
352   0226 19                   ADD HL,DE
353   0227 77                   LD(HL),A
354   0228 11 00 01             LD DE, $100
355   022B 19                   ADD HL,DE
356   022C 77                   LD(HL),A
357   022D 11 00 01             LD DE, $100
358   0230 19                   ADD HL,DE
359   0231 77                   LD(HL),A
360   0232 11 00 01             LD DE, $100
361   0235 19                   ADD HL,DE
362   0236 3E 7E                LD A,%01111110
363   0238 77                   LD(HL),A
364   0239
365   0239                      ;abajo izquierda
366   0239 DD 2B                DEC IX
367   023B DD E5 E1             LD HL,IX
368   023E 3E 0F                LD A,%00001111
369   0240 77                   LD(HL),A
370   0241 11 00 01             LD DE, $100
371   0244 19                   ADD HL,DE
372   0245 77                   LD(HL),A
373   0246 11 00 01             LD DE, $100
374   0249 19                   ADD HL,DE
375   024A 77                   LD(HL),A
376   024B 3E 07                LD A,%00000111
377   024D 11 00 01             LD DE, $100
378   0250 19                   ADD HL,DE
379   0251 77                   LD(HL),A
380   0252 11 00 01             LD DE, $100
381   0255 19                   ADD HL,DE
382   0256 77                   LD(HL),A
383   0257 3E 03                LD A,%00000011
384   0259 11 00 01             LD DE, $100
385   025C 19                   ADD HL,DE
386   025D 77                   LD(HL),A
387   025E 3E 01                LD A,%00000001
388   0260 11 00 01             LD DE, $100
389   0263 19                   ADD HL,DE
390   0264 77                   LD(HL),A
391   0265 3E 00                LD A,%00000000
392   0267 11 00 01             LD DE, $100
393   026A 19                   ADD HL,DE
394   026B 77                   LD(HL),A
395   026C              Fin_Ficha:
396   026C F1                   POP AF
397   026D DD E1                pop ix
398   026F C1                   pop bc
399   0270 D1                   pop de
400   0271 E1                   pop hl
401   0272 C9                   RET
402   0273
403   0273
404   0273              BORRAR_FICHA:; coje hl para pintar cuadrado en negro
405   0273 C5                      PUSH BC
406   0274 E5                   PUSH HL
407   0275 06 03                LD B,3
408   0277
409   0277 36 00                LD (HL), 0
410   0279 23                   INC HL
411   027A 36 00                LD (HL), 0
412   027C 23                   INC HL
413   027D 36 00                LD (HL), 0
414   027F 11 20 00             LD DE,32
415   0282 19                   ADD HL,DE
416   0283 36 00                LD (HL), 0
417   0285 2B                   DEC HL
418   0286 36 00                LD (HL), 0
419   0288 2B                   DEC HL
420   0289 36 00                LD (HL), 0
421   028B
422   028B E1                   POP HL
423   028C C1                   POP BC
424   028D C9                   RET
425   028E
426   028E              PintaCuadrao:;coge hl externo
427   028E C5                   PUSH BC
428   028F E5                   PUSH HL
429   0290 F5                   PUSH AF
430   0291 06 03                LD B,3
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(431): error: Label not found: Color_Usuario
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(431): warning[rdlow]: Reading memory at low address: 0
431   0293 3A 00 00             LD A, (Color_Usuario)
432   0296 77                   LD (HL), A
433   0297 23                   INC HL
434   0298 77                   LD (HL), A
435   0299 23                   INC HL
436   029A 77                   LD (HL), A
437   029B 11 20 00             LD DE,32
438   029E 19                   ADD HL,DE
439   029F 77                   LD (HL), A
440   02A0 2B                   DEC HL
441   02A1 77                   LD (HL),A
442   02A2 2B                   DEC HL
443   02A3 77                   LD (HL), A
444   02A4
445   02A4 F1                   POP AF
446   02A5 E1                   POP HL
447   02A6 C1                   POP BC
448   02A7 C9                   RET
449   02A8
450   02A8              Animacion_Caeficha:;LE PASAS LOS HL E IX CORRECTOS DE DONDE ESTÁ LA FICHA ENCIMA
451   02A8                      ;SUMAR 8 A color usuario previo
452   02A8                      ;comprobar columna para detectar primer 0 desde abajo, por lo tanto los argumentos de esta rutina serán las coordenadas hl
453   02A8                              ;e ix de la ficha encima del tablero para calcular un +x/4 desde la izquierda del todo para averiguar columna
454   02A8                      ;pintar x veces y borrar x-1
455   02A8                      ;guradar posición dónde se ha quedado
456   02A8                      ; RESTAR 8 AL COLOR DE USUARIO
457   02A8 F5                   PUSH AF
458   02A9 DD E5                PUSH IX
459   02AB D5                   PUSH DE
460   02AC C5                   PUSH BC
461   02AD E5                   PUSH HL
462   02AE                      ;comprobar columna para detectar primer 0 desde abajo, por lo tanto los argumentos de esta rutina serán las coordenadas hl
463   02AE                              ;e ix de la ficha encima del tablero para calcular un +x/4 desde la izquierda del todo para averiguar columna
464   02AE 11 21 58             LD DE, $5800 +32 +1
465   02B1 ED 52                SBC HL, DE
466   02B3 7D                   LD A, L         ; Copiar L a A
467   02B4 CB 3F                SRL A           ; Shift right (dividir entre 2)
468   02B6 CB 3F                SRL A           ; Shift right (dividir entre 4)
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(469): error: Label not found: Posiciones
469   02B8 DD 21 00 00          LD IX, Posiciones
470   02BC 4F                   LD C, A              ; C = columna (0-6)
471   02BD 06 06                LD B, 6              ; B = fila (empezar desde la última fila)
472   02BF 1E 05                LD E, 5
473   02C1              BUCLE_COMPROBACION0:
474   02C1                      ; Calcular BYTE = B × 7 + C, 0-42, luego sumar esos bytes a la direccion Posiciones
475   02C1 7B                   LD A, E
476   02C2 87                   ADD A, A         ; A = B × 2
477   02C3 57                   LD D, A          ; D = B × 3
478   02C4 87                   ADD A, A         ; A = B × 4
479   02C5 82                   ADD A, D         ; A = B × 6
480   02C6 83                   ADD A, E         ; A = B × 7
481   02C7 81                   ADD A, C         ; A = B × 7 + C
482   02C8
483   02C8 67                   LD H, A
484   02C9 2E 00                LD L, 0          ; hl = N. bytes extra
485   02CB DD E5                PUSH IX
486   02CD D5                   PUSH DE
487   02CE E5                   PUSH HL
488   02CF D1                   POP DE
489   02D0 DD 19                ADD IX, DE       ; IX apunta a Posiciones[B][C]
490   02D2 DD 7E 00             LD A, (IX)
491   02D5 D1                   POP DE
492   02D6 DD E1                POP IX
493   02D8
494   02D8 FE 00                CP 0             ; ¿Es 0?
495   02DA 28 06                JR Z, EncontradoVacio  ; Si
496   02DC
497   02DC 1D                   DEC E            ; subir fila
498   02DD 10 E2                DJNZ BUCLE_COMPROBACION0  ; Si B != 0, continuar
499   02DF
500   02DF                      ; No hay espacio en esta columna (columna llena)
501   02DF C3 17 03             JP ColumnaLlena
502   02E2
503   02E2              EncontradoVacio:
504   02E2 D5                   PUSH DE
505   02E3 E5                   PUSH HL
506   02E4 D1                   POP DE
507   02E5 DD 19                ADD IX, DE
508   02E7 D1                   POP DE
509   02E8
510   02E8 DD 36 00 01          LD(IX), 1 ;ACTUALIZO ESTADO DEL TABLERO
511   02EC
512   02EC                      ;llamar funcion que pinta espera borra y baja el numero de veces que son
513   02EC                      ;RESTAR 8 AL COLOR DE USUARIO
514   02EC
515   02EC                      ;RECUPERANDO VALOR DONDE IMPRIMO FICHA
516   02EC 26 00                LD H, 0
517   02EE 68                   LD L, B         ; HL = A
518   02EF 29                   ADD HL, HL       ; HL × 2
519   02F0 29                   ADD HL, HL       ; HL × 4
520   02F1 29                   ADD HL, HL       ; HL × 8
521   02F2 29                   ADD HL, HL       ; HL × 16
522   02F3 29                   ADD HL, HL       ; HL × 32
523   02F4 54                   LD D, H
524   02F5 5D                   LD E, L          ; DE = A × 32
525   02F6 29                   ADD HL, HL       ; HL = A × 64
526   02F7 19                   ADD HL, DE       ; HL = A × 96
527   02F8 54 5D                LD DE, HL
528   02FA E1                   POP HL
529   02FB 19                   ADD HL, DE ; DIRECCION DE MEMORIA ATRIBUTOS DONDE IMPRIMIR FICHA - ahora está en HL
530   02FC E5                   PUSH HL    ; Guardar para devolver después
531   02FD                      ; Sumar PAPEL_Azul al color actual para el tablero
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(532): error: Label not found: Color_Usuario
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(532): warning[rdlow]: Reading memory at low address: 0
532   02FD 3A 00 00             LD A, (Color_Usuario)
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(533): error: Label not found: PAPEL_Azul
533   0300 C6 00                ADD A, PAPEL_Azul
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(534): error: Label not found: Color_Usuario
534   0302 32 00 00             LD (Color_Usuario), A
535   0305 CD 8E 02             CALL PintaCuadrao  ; Pintar el cuadrado en la nueva posición
536   0308                      ; Restaurar color sin papel azul
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(537): error: Label not found: Color_Usuario
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(537): warning[rdlow]: Reading memory at low address: 0
537   0308 3A 00 00             LD A, (Color_Usuario)
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(538): error: Label not found: PAPEL_Azul
538   030B D6 00                SUB PAPEL_Azul
C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm(539): error: Label not found: Color_Usuario
539   030D 32 00 00             LD (Color_Usuario), A
540   0310 E1                   POP HL     ; Recuperar la posición actualizada
541   0311
542   0311 C1                   POP BC
543   0312 D1                   POP DE
544   0313 DD E1                POP IX
545   0315 F1                   POP AF
546   0316 C9                   RET
547   0317              ColumnaLlena:
548   0317                      ;vuelve a teclas pero hay que asegurarse de que vuelve a color y teclas correctas, quizás con a=1 y
549   0317                              ;luego comparo, algo tangible
550   0317
551   0317
552   0317
553   0317
554   0317 E1                   POP HL
555   0318 C1                   POP BC
556   0319 D1                   POP DE
557   031A DD E1                POP IX
558   031C F1                   POP AF
559   031D C9                   RET
560   031E
561   031E
# file closed: C:\assembly\Rutina bienvenida 4 en raya\Rutina bienvenida 4 en raya\pintaficha.asm
